<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="WOW3 - Web-based Presentation Software">
  <title>WOW3 Presentation</title>

  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- MaterializeCSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/animation-editor.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/editor.css">
  <link rel="stylesheet" href="css/sidebar.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/media-manager.css">
  <link rel="stylesheet" href="css/presentation-manager.css">
  <link rel="stylesheet" href="css/template-manager.css">
  <link rel="stylesheet" href="css/dialog.css">
  <link rel="stylesheet" href="css/panels.css">
  <link rel="stylesheet" href="css/countdown-timer.css">
</head>
<body>
  <!-- Top Menu Bar -->
  <nav id="top-menu" class="blue darken-2">
    <div class="nav-wrapper">
      <a href="#" class="brand-logo">WOW3</a>
      <input
        type="text"
        id="presentation-title-input"
        placeholder="Untitled Presentation"
      />
      <!-- Left group: file operations -->
      <ul id="toolbar-left" class="toolbar-group toolbar-left">
        <li><a href="#" id="open-btn" title="Open Presentation"><i class="material-icons">folder_open</i></a></li>
        <li><a href="#" id="save-btn" title="Save Presentation"><i class="material-icons">save</i></a></li>
      </ul>
      <!-- Center group: element tools -->
      <ul id="toolbar-center" class="toolbar-group toolbar-center">
        <li><a href="#" id="add-text-btn" title="Add Text"><i class="material-icons">text_fields</i></a></li>
        <li><a href="#" id="add-image-btn" title="Add Image"><i class="material-icons">image</i></a></li>
        <li><a href="#" id="add-video-btn" title="Add Video"><i class="material-icons">videocam</i></a></li>
        <li><a href="#" id="add-shape-btn" title="Add Shape"><i class="material-icons">crop_square</i></a></li>
        <li><a href="#" id="add-audio-btn" title="Add Audio"><i class="material-icons">audiotrack</i></a></li>
        <li><a href="#" id="add-countdown-btn" title="Add Countdown Timer"><i class="material-icons">timer</i></a></li>
      </ul>
      <!-- Right group: import/export/play -->
      <ul id="toolbar-right" class="toolbar-group toolbar-right">
        <li><a href="#" id="import-btn" title="Import Presentation"><i class="material-icons">upload</i></a></li>
        <li><a href="#" id="export-btn" title="Export Presentation"><i class="material-icons">download</i></a></li>
        <li class="divider-vertical"></li>
        <li><a href="#" id="play-btn" title="Play Presentation"><i class="material-icons">play_arrow</i></a></li>
      </ul>
    </div>
  </nav>

  <!-- Main Container -->
  <div id="app-container">
    <!-- Left Sidebar -->
    <aside id="left-sidebar" class="sidebar">
      <div class="sidebar-header" style="display: flex; gap: 6px;">
        <button id="add-slide-btn" class="btn waves-effect blue darken-1 btn-small" style="flex: 1;">
          <i class="material-icons left">add</i> New Slide
        </button>
        <button id="open-templates-btn" class="btn waves-effect green darken-1 btn-small" title="Templates">
          <i class="material-icons">dashboard</i>
        </button>
      </div>
      <div id="slide-list" class="slide-list">
        <!-- Slide thumbnails will be rendered here -->
      </div>
    </aside>

    <!-- Main Canvas -->
    <main id="main-canvas" class="canvas-area">
      <div id="canvas-wrapper">
        <div id="slide-canvas" class="slide-canvas">
          <!-- Current slide elements rendered here -->
          <div id="alignment-guides" class="alignment-guides">
            <!-- Dynamic alignment guides -->
          </div>
        </div>
      </div>
    </main>

    <!-- Right Sidebar -->
    <aside id="right-sidebar" class="sidebar">
      <!-- Media Manager Button -->
      <div class="media-manager-button-wrapper">
        <button id="open-media-manager" class="btn waves-effect blue darken-1 btn-block">
          <i class="material-icons left">perm_media</i>Media Library
        </button>
      </div>

      <ul class="tabs">
        <li class="tab"><a href="#tab-slide" class="active">Slide</a></li>
        <li class="tab"><a href="#tab-element">Element</a></li>
      </ul>

      <div id="tab-slide" class="tab-content">
        <div class="property-section">
          <h6>Slide Properties</h6>
          <div class="input-field">
            <input type="text" id="slide-title" placeholder="Slide Title">
            <label for="slide-title" class="active">Title</label>
          </div>
          <div class="input-field">
            <input type="color" id="slide-background" value="#ffffff">
            <label for="slide-background" class="active">Background Color</label>
          </div>
          <p id="hide-shell-field" style="display:none;">
            <label>
              <input type="checkbox" id="slide-hide-shell" />
              <span>Hide shell on this slide</span>
            </label>
          </p>
        </div>

        <!-- Shell Settings -->
        <div class="property-section" id="shell-settings-section" style="display:none;">
          <h6>Shell Settings</h6>
          <div class="input-field">
            <select id="shell-mode-select" class="browser-default">
              <option value="below">Below slides (background)</option>
              <option value="above">Above slides (overlay)</option>
            </select>
            <label for="shell-mode-select" class="active">Shell Mode</label>
          </div>
          <button id="remove-shell-btn" class="btn-small waves-effect red lighten-1" style="width:100%;">
            <i class="material-icons left">delete</i> Remove Shell
          </button>
        </div>

        <!-- Page Elements & Animations -->
        <div class="property-section">
          <h6>Page Elements & Animations</h6>
          <div id="elements-tree">
            <!-- Elements tree rendered here -->
          </div>
        </div>
      </div>

      <div id="tab-element" class="tab-content">
        <p class="grey-text center-align" style="padding: 20px;">No element selected</p>
      </div>

    </aside>
  </div>

  <!-- Bottom Status Bar -->
  <footer id="status-bar" class="status-bar">
    <span id="slide-counter">Slide 1 of 1</span>
    <button id="animations-panel-btn" class="animations-panel-toggle" title="Toggle Elements Control Center">
      <i class="material-icons">animation</i>
      <span>Elements Control Center</span>
    </button>
    <button id="shell-preview-btn" class="shell-preview-toggle" style="display:none;" title="Toggle shell preview">
      <i class="material-icons">layers_clear</i>
      <span>Shell</span>
    </button>
    <span id="zoom-level">100%</span>
  </footer>

  <!-- Elements Control Center (floating panel) -->
  <div id="animations-panel" class="animations-panel">
    <div class="animations-panel-header">
      <div class="animations-panel-tabs">
        <button class="animations-panel-tab active" data-panel-tab="sequence">
          <i class="material-icons">reorder</i> Sequence
        </button>
        <button class="animations-panel-tab" data-panel-tab="anim" disabled>
          <i class="material-icons">animation</i> Anim
        </button>
        <button class="animations-panel-tab" data-panel-tab="elements">
          <i class="material-icons">layers</i> Elements
        </button>
      </div>
      <button class="animations-panel-close" title="Close">
        <i class="material-icons">close</i>
      </button>
    </div>
    <div class="animations-panel-resize"></div>
    <div class="animations-panel-body">
      <div id="animations-panel-sequence" class="animations-panel-content active">
        <div id="build-order-list">
          <p class="grey-text center-align" style="padding: 12px; font-size: 12px;">No animations on this slide</p>
        </div>
      </div>
      <div id="animations-panel-anim" class="animations-panel-content">
        <div id="animation-inspector">
          <p class="grey-text center-align" style="padding: 20px;">Select an element to add animations</p>
        </div>
      </div>
      <div id="animations-panel-elements" class="animations-panel-content">
        <div id="panel-elements-list">
          <p class="grey-text center-align" style="padding: 12px; font-size: 12px;">No elements on this slide</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Presentation View (Fullscreen) -->
  <div id="presentation-view" style="display: none;">
    <!-- Presentation slides rendered here during playback -->
  </div>

  <!-- MaterializeCSS JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <!-- JSZip for .wow3 export/import -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <!-- html2canvas for slide thumbnails -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- Utilities & Managers (Must load before modules) -->
  <script src="js/utils/presentations_db.js"></script>
  <script src="js/utils/media_db.js"></script>
  <script src="js/utils/dialog.js"></script>
  <script src="js/utils/i18n.js"></script>
  <script src="js/utils/panel_utils.js"></script>
  <script src="js/utils/media_manager.js"></script>
  <script src="js/utils/presentation_manager.js"></script>
  <script src="js/utils/templates_db.js"></script>
  <script src="js/utils/template_manager.js"></script>

  <!-- Application JavaScript (ES6 Modules) -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
